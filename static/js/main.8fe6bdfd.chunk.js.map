{"version":3,"sources":["api/users.js","api/categories.js","components/Product.jsx","components/ProductList.jsx","components/Filters.jsx","App.jsx","api/products.js","index.jsx"],"names":["id","name","sex","title","icon","ownerId","Product","_ref","product","userClassName","cn","user","_jsxs","children","_jsx","className","concat","category","ProductList","products","length","href","map","Filters","users","categories","selectedUserName","onSelectUser","queryValue","onChangeQuery","onFilterReset","onSelectCategory","selectedCategoryName","allUsrClassName","handleUserClick","userName","handleQueryChange","value","handleCategoryClick","categoryName","onClick","event","target","type","placeholder","onChange","categoryId","categoriesFromServer","find","cat","usersFromServer","usr","App","setSelectedUserName","useState","filteredProducts","setFilteredProducts","setQueryValue","setSelectedCategoryName","useEffect","filtered","filter","includes","productNameLowerCase","toLocaleLowerCase","queryLowerCase","newSelectedUserName","trimStart","prev","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8fe6bdfd.chunk.js","sourcesContent":["export default [\n  { id: 1, name: 'Roma', sex: 'm' },\n  { id: 2, name: 'Anna', sex: 'f' },\n  { id: 3, name: 'Max', sex: 'm' },\n  { id: 4, name: 'John', sex: 'm' },\n];\n","export default [\n  {\n    id: 1,\n    title: 'Grocery',\n    icon: 'ðŸž',\n    ownerId: 2,\n  },\n  {\n    id: 2,\n    title: 'Drinks',\n    icon: 'ðŸº',\n    ownerId: 1,\n  },\n  {\n    id: 3,\n    title: 'Fruits',\n    icon: 'ðŸ',\n    ownerId: 2,\n  },\n  {\n    id: 4,\n    title: 'Electronics',\n    icon: 'ðŸ’»',\n    ownerId: 1,\n  },\n  {\n    id: 5,\n    title: 'Clothes',\n    icon: 'ðŸ‘š',\n    ownerId: 3,\n  },\n];\n","import cn from 'classnames';\n\nexport const Product = ({ product }) => {\n  const userClassName = cn({\n    'has-text-link': product.user.sex === 'm',\n    'has-text-danger': product.user.sex === 'f',\n  });\n\n  return (\n    <tr\n      key={product.id}\n      data-cy=\"Product\"\n    >\n      <td className=\"has-text-weight-bold\" data-cy=\"ProductId\">\n        {product.id}\n      </td>\n\n      <td data-cy=\"ProductName\">{product.name}</td>\n      <td data-cy=\"ProductCategory\">\n        {`${product.category.icon} - ${product.category.title}`}\n      </td>\n\n      <td\n        data-cy=\"ProductUser\"\n        className={userClassName}\n      >\n        {product.user.name}\n      </td>\n    </tr>\n  );\n};\n","import { Product } from './Product';\n\nexport const ProductList = ({ products }) => (\n  <div className=\"box table-container\">\n    <p data-cy=\"NoMatchingMessage\">\n      {\n        products.length === 0 && 'No products matching selected criteria'\n      }\n    </p>\n\n    <table\n      data-cy=\"ProductTable\"\n      className=\"table is-striped is-narrow is-fullwidth\"\n    >\n      <thead>\n        <tr>\n          <th>\n            <span className=\"is-flex is-flex-wrap-nowrap\">\n              ID\n\n              <a href=\"#/\">\n                <span className=\"icon\">\n                  <i data-cy=\"SortIcon\" className=\"fas fa-sort\" />\n                </span>\n              </a>\n            </span>\n          </th>\n\n          <th>\n            <span className=\"is-flex is-flex-wrap-nowrap\">\n              Product\n\n              <a href=\"#/\">\n                <span className=\"icon\">\n                  <i data-cy=\"SortIcon\" className=\"fas fa-sort-down\" />\n                </span>\n              </a>\n            </span>\n          </th>\n\n          <th>\n            <span className=\"is-flex is-flex-wrap-nowrap\">\n              Category\n\n              <a href=\"#/\">\n                <span className=\"icon\">\n                  <i data-cy=\"SortIcon\" className=\"fas fa-sort-up\" />\n                </span>\n              </a>\n            </span>\n          </th>\n\n          <th>\n            <span className=\"is-flex is-flex-wrap-nowrap\">\n              User\n\n              <a href=\"#/\">\n                <span className=\"icon\">\n                  <i data-cy=\"SortIcon\" className=\"fas fa-sort\" />\n                </span>\n              </a>\n            </span>\n          </th>\n        </tr>\n      </thead>\n\n      <tbody>\n        {\n          products.map(product => (\n            <Product\n              key={product.id}\n              product={product}\n            />\n          ))\n        }\n      </tbody>\n    </table>\n  </div>\n);\n","export const Filters = ({\n  users,\n  categories,\n  selectedUserName,\n  onSelectUser,\n  queryValue,\n  onChangeQuery,\n  onFilterReset,\n  onSelectCategory,\n  selectedCategoryName,\n}) => {\n  const allUsrClassName = selectedUserName === 'All' ? 'is-active' : '';\n\n  const handleUserClick = (userName) => {\n    if (userName === selectedUserName) {\n      return;\n    }\n\n    onSelectUser(userName);\n  };\n\n  const handleQueryChange = (value) => {\n    onChangeQuery(value);\n  };\n\n  const handleCategoryClick = (categoryName) => {\n    onSelectCategory(categoryName);\n  };\n\n  return (\n    <div className=\"block\">\n      <nav className=\"panel\">\n        <p className=\"panel-heading\">Filters</p>\n\n        <p className=\"panel-tabs has-text-weight-bold\">\n          <a\n            name=\"All\"\n            data-cy=\"FilterAllUsers\"\n            href=\"#/\"\n            className={allUsrClassName}\n            onClick={event => handleUserClick(event.target.name)}\n          >\n            All\n          </a>\n\n          {\n            users.map(user => (\n              <a\n                key={user.id}\n                data-cy=\"FilterUser\"\n                href=\"#/\"\n                className={\n                  user.name === selectedUserName\n                    ? 'is-active'\n                    : ''\n                  }\n                onClick={() => handleUserClick(user.name)}\n              >\n                {user.name}\n              </a>\n            ))\n          }\n        </p>\n\n        <div className=\"panel-block\">\n          <p className=\"control has-icons-left has-icons-right\">\n            <input\n              data-cy=\"SearchField\"\n              type=\"text\"\n              className=\"input\"\n              placeholder=\"Search\"\n              value={queryValue}\n              onChange={event => handleQueryChange(event.target.value)}\n            />\n\n            <span className=\"icon is-left\">\n              <i className=\"fas fa-search\" aria-hidden=\"true\" />\n            </span>\n\n            <span className=\"icon is-right\">\n              {\n                queryValue !== ''\n                && (\n                  <button\n                    data-cy=\"ClearButton\"\n                    type=\"button\"\n                    className=\"delete\"\n                    onClick={() => handleQueryChange('')}\n                  />\n                )\n              }\n            </span>\n          </p>\n        </div>\n\n        <div className=\"panel-block is-flex-wrap-wrap\">\n          <a\n            href=\"#/\"\n            data-cy=\"AllCategories\"\n            className=\"button is-success mr-6 is-outlined\"\n            onClick={() => handleCategoryClick('All')}\n          >\n            All\n          </a>\n\n          {\n            categories.map(category => (\n              <a\n                key={category.id}\n                data-cy=\"Category\"\n                className=\"button mr-2 my-1 is-info\"\n                href=\"#/\"\n                onClick={() => handleCategoryClick(category.title)}\n              >\n                {category.title}\n              </a>\n            ))\n          }\n        </div>\n\n        <div className=\"panel-block\">\n          <a\n            data-cy=\"ResetAllButton\"\n            href=\"#/\"\n            className=\"button is-link is-outlined is-fullwidth\"\n            onClick={onFilterReset}\n          >\n            Reset all filters\n          </a>\n        </div>\n      </nav>\n    </div>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport './App.scss';\n\nimport usersFromServer from './api/users';\nimport categoriesFromServer from './api/categories';\nimport productsFromServer from './api/products';\n\nimport { ProductList } from './components/ProductList';\nimport { Filters } from './components/Filters';\n\nconst products = productsFromServer.map((product) => {\n  const category = categoriesFromServer\n    .find(cat => cat.id === product.categoryId);\n\n  const user = usersFromServer\n    .find(usr => usr.id === category.ownerId);\n\n  return {\n    ...product,\n    category,\n    user,\n  };\n});\n\nexport const App = () => {\n  const [selectedUserName, setSelectedUserName] = useState('All');\n  const [filteredProducts, setFilteredProducts] = useState(products);\n  const [queryValue, setQueryValue] = useState('');\n  const [selectedCategoryName, setSelectedCategoryName] = useState([]);\n\n  const onSelectUser = (newSelectedUserName) => {\n    setSelectedUserName(newSelectedUserName);\n  };\n\n  const onChangeQuery = (value) => {\n    setQueryValue(value.trimStart());\n  };\n\n  const onSelectCategory = (categoryName) => {\n    if (categoryName === 'All') {\n      setSelectedCategoryName([]);\n\n      return;\n    }\n\n    if (selectedCategoryName.includes(categoryName)) {\n      setSelectedCategoryName(prev => prev.filter(cat => cat !== categoryName));\n\n      return;\n    }\n\n    setSelectedCategoryName(prev => [...prev, categoryName]);\n  };\n\n  const onFilterReset = () => {\n    setSelectedUserName('All');\n    setQueryValue('');\n    setFilteredProducts(products);\n  };\n\n  // filtering the products\n  useEffect(() => {\n    let filtered = products;\n\n    if (selectedUserName !== 'All') {\n      filtered = filtered.filter(product => (\n        product.user.name === selectedUserName\n      ));\n    }\n\n    if (selectedCategoryName.length > 0) {\n      filtered = filtered.filter(product => (\n        selectedCategoryName.includes(product.category.title)\n      ));\n    }\n\n    if (queryValue !== '') {\n      filtered = filtered.filter((product) => {\n        const productNameLowerCase = product.name.toLocaleLowerCase();\n        const queryLowerCase = queryValue.toLocaleLowerCase();\n\n        return productNameLowerCase.includes(queryLowerCase);\n      });\n    }\n\n    setFilteredProducts(filtered);\n  }, [selectedUserName, queryValue, selectedCategoryName]);\n\n  return (\n    <div className=\"section\">\n      <div className=\"container\">\n        <h1 className=\"title\">Product Categories</h1>\n        <Filters\n          users={usersFromServer}\n          categories={categoriesFromServer}\n          selectedUserName={selectedUserName}\n          onSelectUser={onSelectUser}\n          queryValue={queryValue}\n          onChangeQuery={onChangeQuery}\n          onFilterReset={onFilterReset}\n          onSelectCategory={onSelectCategory}\n          selectedCategoryName={selectedCategoryName}\n        />\n        <ProductList\n          products={filteredProducts}\n        />\n      </div>\n    </div>\n  );\n};\n","export default [\n  {\n    id: 1,\n    name: 'Milk',\n    categoryId: 2,\n  },\n  {\n    id: 2,\n    name: 'Bread',\n    categoryId: 1,\n  },\n  {\n    id: 3,\n    name: 'Eggs',\n    categoryId: 1,\n  },\n  {\n    id: 4,\n    name: 'Jacket',\n    categoryId: 5,\n  },\n  {\n    id: 5,\n    name: 'Sugar',\n    categoryId: 1,\n  },\n  {\n    id: 6,\n    name: 'Banana',\n    categoryId: 3,\n  },\n  {\n    id: 7,\n    name: 'Beer',\n    categoryId: 2,\n  },\n  {\n    id: 8,\n    name: 'Socks',\n    categoryId: 5,\n  },\n  {\n    id: 9,\n    name: 'Apples',\n    categoryId: 3,\n  },\n];\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}